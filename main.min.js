function hex_md5(e){return binl2hex(core_md5(str2binl(e),e.length*chrsz))}function b64_md5(e){return binl2b64(core_md5(str2binl(e),e.length*chrsz))}function str_md5(e){return binl2str(core_md5(str2binl(e),e.length*chrsz))}function hex_hmac_md5(e,t){return binl2hex(core_hmac_md5(e,t))}function b64_hmac_md5(e,t){return binl2b64(core_hmac_md5(e,t))}function str_hmac_md5(e,t){return binl2str(core_hmac_md5(e,t))}function md5_vm_test(){return"900150983cd24fb0d6963f7d28e17f72"==hex_md5("abc")}function core_md5(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var n=1732584193,i=-271733879,r=-1732584194,s=271733878,o=0;o<e.length;o+=16){var a=n,h=i,d=r,c=s;n=md5_ff(n,i,r,s,e[o+0],7,-680876936),s=md5_ff(s,n,i,r,e[o+1],12,-389564586),r=md5_ff(r,s,n,i,e[o+2],17,606105819),i=md5_ff(i,r,s,n,e[o+3],22,-1044525330),n=md5_ff(n,i,r,s,e[o+4],7,-176418897),s=md5_ff(s,n,i,r,e[o+5],12,1200080426),r=md5_ff(r,s,n,i,e[o+6],17,-1473231341),i=md5_ff(i,r,s,n,e[o+7],22,-45705983),n=md5_ff(n,i,r,s,e[o+8],7,1770035416),s=md5_ff(s,n,i,r,e[o+9],12,-1958414417),r=md5_ff(r,s,n,i,e[o+10],17,-42063),i=md5_ff(i,r,s,n,e[o+11],22,-1990404162),n=md5_ff(n,i,r,s,e[o+12],7,1804603682),s=md5_ff(s,n,i,r,e[o+13],12,-40341101),r=md5_ff(r,s,n,i,e[o+14],17,-1502002290),i=md5_ff(i,r,s,n,e[o+15],22,1236535329),n=md5_gg(n,i,r,s,e[o+1],5,-165796510),s=md5_gg(s,n,i,r,e[o+6],9,-1069501632),r=md5_gg(r,s,n,i,e[o+11],14,643717713),i=md5_gg(i,r,s,n,e[o+0],20,-373897302),n=md5_gg(n,i,r,s,e[o+5],5,-701558691),s=md5_gg(s,n,i,r,e[o+10],9,38016083),r=md5_gg(r,s,n,i,e[o+15],14,-660478335),i=md5_gg(i,r,s,n,e[o+4],20,-405537848),n=md5_gg(n,i,r,s,e[o+9],5,568446438),s=md5_gg(s,n,i,r,e[o+14],9,-1019803690),r=md5_gg(r,s,n,i,e[o+3],14,-187363961),i=md5_gg(i,r,s,n,e[o+8],20,1163531501),n=md5_gg(n,i,r,s,e[o+13],5,-1444681467),s=md5_gg(s,n,i,r,e[o+2],9,-51403784),r=md5_gg(r,s,n,i,e[o+7],14,1735328473),i=md5_gg(i,r,s,n,e[o+12],20,-1926607734),n=md5_hh(n,i,r,s,e[o+5],4,-378558),s=md5_hh(s,n,i,r,e[o+8],11,-2022574463),r=md5_hh(r,s,n,i,e[o+11],16,1839030562),i=md5_hh(i,r,s,n,e[o+14],23,-35309556),n=md5_hh(n,i,r,s,e[o+1],4,-1530992060),s=md5_hh(s,n,i,r,e[o+4],11,1272893353),r=md5_hh(r,s,n,i,e[o+7],16,-155497632),i=md5_hh(i,r,s,n,e[o+10],23,-1094730640),n=md5_hh(n,i,r,s,e[o+13],4,681279174),s=md5_hh(s,n,i,r,e[o+0],11,-358537222),r=md5_hh(r,s,n,i,e[o+3],16,-722521979),i=md5_hh(i,r,s,n,e[o+6],23,76029189),n=md5_hh(n,i,r,s,e[o+9],4,-640364487),s=md5_hh(s,n,i,r,e[o+12],11,-421815835),r=md5_hh(r,s,n,i,e[o+15],16,530742520),i=md5_hh(i,r,s,n,e[o+2],23,-995338651),n=md5_ii(n,i,r,s,e[o+0],6,-198630844),s=md5_ii(s,n,i,r,e[o+7],10,1126891415),r=md5_ii(r,s,n,i,e[o+14],15,-1416354905),i=md5_ii(i,r,s,n,e[o+5],21,-57434055),n=md5_ii(n,i,r,s,e[o+12],6,1700485571),s=md5_ii(s,n,i,r,e[o+3],10,-1894986606),r=md5_ii(r,s,n,i,e[o+10],15,-1051523),i=md5_ii(i,r,s,n,e[o+1],21,-2054922799),n=md5_ii(n,i,r,s,e[o+8],6,1873313359),s=md5_ii(s,n,i,r,e[o+15],10,-30611744),r=md5_ii(r,s,n,i,e[o+6],15,-1560198380),i=md5_ii(i,r,s,n,e[o+13],21,1309151649),n=md5_ii(n,i,r,s,e[o+4],6,-145523070),s=md5_ii(s,n,i,r,e[o+11],10,-1120210379),r=md5_ii(r,s,n,i,e[o+2],15,718787259),i=md5_ii(i,r,s,n,e[o+9],21,-343485551),n=safe_add(n,a),i=safe_add(i,h),r=safe_add(r,d),s=safe_add(s,c)}return Array(n,i,r,s)}function md5_cmn(e,t,n,i,r,s){return safe_add(bit_rol(safe_add(safe_add(t,e),safe_add(i,s)),r),n)}function md5_ff(e,t,n,i,r,s,o){return md5_cmn(t&n|~t&i,e,t,r,s,o)}function md5_gg(e,t,n,i,r,s,o){return md5_cmn(t&i|n&~i,e,t,r,s,o)}function md5_hh(e,t,n,i,r,s,o){return md5_cmn(t^n^i,e,t,r,s,o)}function md5_ii(e,t,n,i,r,s,o){return md5_cmn(n^(t|~i),e,t,r,s,o)}function core_hmac_md5(e,t){var n=str2binl(e);n.length>16&&(n=core_md5(n,e.length*chrsz));for(var i=Array(16),r=Array(16),s=0;16>s;s++)i[s]=909522486^n[s],r[s]=1549556828^n[s];var o=core_md5(i.concat(str2binl(t)),512+t.length*chrsz);return core_md5(r.concat(o),640)}function safe_add(e,t){var n=(65535&e)+(65535&t),i=(e>>16)+(t>>16)+(n>>16);return i<<16|65535&n}function bit_rol(e,t){return e<<t|e>>>32-t}function str2binl(e){for(var t=Array(),n=(1<<chrsz)-1,i=0;i<e.length*chrsz;i+=chrsz)t[i>>5]|=(e.charCodeAt(i/chrsz)&n)<<i%32;return t}function binl2str(e){for(var t="",n=(1<<chrsz)-1,i=0;i<32*e.length;i+=chrsz)t+=String.fromCharCode(e[i>>5]>>>i%32&n);return t}function binl2hex(e){for(var t=hexcase?"0123456789ABCDEF":"0123456789abcdef",n="",i=0;i<4*e.length;i++)n+=t.charAt(e[i>>2]>>i%4*8+4&15)+t.charAt(e[i>>2]>>i%4*8&15);return n}function binl2b64(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",i=0;i<4*e.length;i+=3)for(var r=(e[i>>2]>>8*(i%4)&255)<<16|(e[i+1>>2]>>8*((i+1)%4)&255)<<8|e[i+2>>2]>>8*((i+2)%4)&255,s=0;4>s;s++)n+=8*i+6*s>32*e.length?b64pad:t.charAt(r>>6*(3-s)&63);return n}function createImg(e){var t=new egret.Bitmap;return t.texture=RES.getRes(e),t}function createText(e,t,n,i,r){void 0===t&&(t=egret.HorizontalAlign.LEFT),void 0===n&&(n=egret.VerticalAlign.TOP),void 0===i&&(i=30),void 0===r&&(r=0);var s=new egret.TextField;return s.text=e,s.size=i,s.textAlign=t,s.verticalAlign=n,s.textColor=r,s}function createBtn(e,t,n,i,r,s,o,a,h){void 0===i&&(i=function(){}),void 0===r&&(r=10066329),void 0===s&&(s=16777215),void 0===o&&(o=30),void 0===a&&(a=16711680),void 0===h&&(h=16776960);var d=new egret.Sprite;d.graphics.beginFill(r),d.graphics.drawRect(0,0,t,n),d.graphics.endFill();var c=new egret.TextField;return c.text=e,c.textColor=s,c.size=o,c.textAlign="center",c.verticalAlign="middle",c.width=t,c.height=n,d.addChild(c),d.touchEnabled=!0,d.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(){this.graphics.clear(),this.graphics.beginFill(a),this.graphics.drawRect(0,0,t,n),this.graphics.endFill(),c.textColor=h},d),d.addEventListener(egret.TouchEvent.TOUCH_END,function(){this.graphics.clear(),this.graphics.beginFill(r),this.graphics.drawRect(0,0,t,n),this.graphics.endFill(),c.textColor=s,i()},d),d.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,function(){this.graphics.clear(),this.graphics.beginFill(r),this.graphics.drawRect(0,0,t,n),this.graphics.endFill(),c.textColor=s,i()},d),d}function createRect(e,t,n,i,r){void 0===i&&(i=0),void 0===r&&(r=0);var s=new egret.Shape;return s.graphics.lineStyle(i,r),s.graphics.beginFill(n),s.graphics.drawRect(0,0,e,t),s.graphics.endFill(),s}function timeFormat(e){var t=Math.floor(e),n=t%60,i=10>n?"0"+n:n.toFixed(0),r=Math.floor(t/60),s=10>r?"0"+r:r.toFixed(0);return s+":"+i}var __reflect=this&&this.__reflect||function(e,t,n){e.__class__=t,n?n.push(t):n=[t],e.__types__=e.__types__?n.concat(e.__types__):n},__extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Play=function(e){function t(){var t=e.call(this)||this;return t.isCli=!1,t.isCrash=!1,t.skinName=PlaySkin,t}return __extends(t,e),t.prototype.partAdded=function(t,n){e.prototype.partAdded.call(this,t,n)},t.prototype.childrenCreated=function(){var t=this;e.prototype.childrenCreated.call(this),this.sound=RES.getRes("youxibeijing_mp3"),this.failed=RES.getRes("shibai_mp3"),this.soundChannel=this.sound.play(),this.bgTween=egret.Tween.get(this.playing,{loop:!0}).to({y:3754},1e4),this.bgTween.setPaused(!1),this.lotto.once(egret.TouchEvent.TOUCH_TAP,function(){t.user.play(),t.swapChildren(t.userType,t.result),t.playAgain.touchEnabled=!1}),this.playAgain.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){SceneManager.createObj(t.stage).loadScene("index",Index)}),this.yes.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){SceneManager.createObj(t.stage).loadScene("share",Share)}),this.no.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){SceneManager.createObj(t.stage).loadScene("share",Share)}),this.rain=new egret.Bitmap,this.bottle=new egret.Bitmap,this.timer1=new egret.Timer(1500,0),this.timer1.addEventListener(egret.TimerEvent.TIMER,function(){t.rain.texture=RES.getRes("game-yu_png"),t.addChild(t.rain),t.rain.width=200,t.rain.height=200,t.rain.y=-200,t.rain.x=t.ran1}),this.timer1.start(),this.timer2=new egret.Timer(3500,0),this.timer2.addEventListener(egret.TimerEvent.TIMER,function(){t.bottle.texture=RES.getRes("pingzi_png"),t.addChild(t.bottle),t.bottle.width=100,t.bottle.height=240,t.bottle.y=-240,t.bottle.x=t.ran2}),this.timer2.start(),this.timer3=new egret.Timer(10,0),this.timer3.addEventListener(egret.TimerEvent.TIMER,function(){this.ran1=Math.floor(440*Math.random()),this.ran2=Math.floor(540*Math.random())},this),this.timer3.start(),this.timer4=new egret.Timer(10,0),this.timer4.addEventListener(egret.TimerEvent.TIMER,function(){t.rain.y+=15,t.bottle.y+=10}),this.timer4.start(),this.kmPlaying.text=StartGame.initKm,this.kmPlaying.addEventListener(egret.Event.ENTER_FRAME,this.grade,this),this.tennic.touchEnable=!0,this.tennic.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.startMove,this),this.tennic.addEventListener(egret.TouchEvent.TOUCH_END,this.stopMove,this),this.addEventListener(egret.Event.ENTER_FRAME,this.crash,this),this.cheerText=new egret.TextField,this.cheerText.text="+30km！",this.cheerText.width=200,this.cheerText.textAlign="center",this.cheerText.x=220,this.cheerText.y=50,this.cheerText.textColor=16776960,this.cheerText.size=36,this.addChild(this.cheerText),this.cheerText.visible=!1},t.prototype.startMove=function(e){console.log(e),this.tennic=e.currentTarget,this.offsetX=e.stageX-this.tennic.x,this.tennic.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onMove,this)},t.prototype.stopMove=function(){this.tennic.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onMove,this)},t.prototype.onMove=function(e){var t=e.stageX-this.offsetX;t>=0&&t<=this.stage.stageWidth-this.tennic.width&&(this.tennic.x=t)},t.prototype.grade=function(){var e=this.kmPlaying.text;e++,this.kmPlaying.text=e,this.kmResult.text=this.kmPlaying.text},t.prototype.crash=function(){var e=this;if(!this.isCli&&this.isCollsion()){this.isCli=!0;var t=parseInt(this.kmPlaying.text);this.contains(this.bottle)&&(this.removeChild(this.bottle),t+=30),this.kmPlaying.text=t,this.kmResult.text=this.kmPlaying.text,this.cheerText.visible=!0,setTimeout(function(){e.cheerText.visible=!1},300)}else this.isCli=!1;!this.isCrash&&this.isCollsionWithRect()?(this.isCrash=!0,this.soundChannel.stop(),this.failed.play(0,1),this.timer1.stop(),this.timer2.stop(),this.gameOver.play(),this.bgTween.setPaused(!0),this.kmPlaying.removeEventListener(egret.Event.ENTER_FRAME,this.grade,this),this.setChildIndex(this.tennic,1),this.contains(this.bottle)&&this.removeChild(this.bottle)):this.isCrash=!1},t.prototype.isCollsionWithRect=function(){var e=this.tennic,t=this.rain;return e.x+e.width>t.x&&e.x<t.x+t.width&&e.y+e.height>t.y&&e.y<t.y+t.width?!0:!1},t.prototype.isCollsion=function(){var e=this.tennic,t=this.bottle;return e.x+e.width>t.x&&e.x<t.x+t.width&&e.y+e.height>t.y&&e.y<t.y+t.width?!0:!1},t}(eui.Component);__reflect(Play.prototype,"Play",["eui.UIComponent","egret.DisplayObject"]);var AssetAdapter=function(){function e(){}return e.prototype.getAsset=function(e,t,n){function i(i){t.call(n,i,e)}if(RES.hasRes(e)){var r=RES.getRes(e);r?i(r):RES.getResAsync(e,i,this)}else RES.getResByUrl(e,i,this,RES.ResourceItem.TYPE_IMAGE)},e}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var Index=function(e){function t(){var t=e.call(this)||this;return t.isShow=!0,t.skinName="IndexSkin",t}return __extends(t,e),t.prototype.partAdded=function(t,n){e.prototype.partAdded.call(this,t,n)},t.prototype.childrenCreated=function(){var n=this;e.prototype.childrenCreated.call(this),this.playAnimation(this.ballAni,!0),this.explain.touchEnabled=!0,this.explain.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){n.isShow?(n.isShow=!n.isShow,n.group.play(-1),n.ball.touchEnabled=!1):(n.isShow=!n.isShow,n.gruopDown.play(-1),n.ball.touchEnabled=!0)}),t.sound=RES.getRes("beijing_mp3"),t.soundChannel=t.sound.play(),this.ball.once(egret.TouchEvent.TOUCH_BEGIN,function(){SceneManager.createObj(n.stage).loadScene("startgame",StartGame)}),this.height=this.stage.stageHeight,console.log(this)},t.prototype.playAnimation=function(e,t){if(t)for(var n in e.items)e.items[n].props={loop:!0};e.play()},t}(eui.Component);__reflect(Index.prototype,"Index",["eui.UIComponent","egret.DisplayObject"]);var LoadingUI=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.createView,t),t}return __extends(t,e),t.createObj=function(){return t.singleObj||(t.singleObj=new t),t.singleObj},t.prototype.createView=function(){var e=createRect(this.stage.stageWidth,this.stage.stageHeight,65535);this.addChild(e);var t=createImg("loading_png");this.addChildAt(t,2),this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=this.stage.stageHeight-this.textField.height-150,this.textField.width=this.stage.stageWidth,this.textField.textAlign="center",this.textField.size=30,this.progress=new egret.DisplayObjectContainer,this.addChild(this.progress),this.progress.x=40,this.progress.y=this.stage.stageHeight-170;var n=new egret.Shape;n.graphics.beginFill(16777215),n.graphics.drawRoundRect(0,0,560,5,5),n.graphics.endFill(),this.progress.addChild(n),this.frontRect=createRect(0,2,16777215),this.progress.addChild(this.frontRect);var i=new egret.ImageLoader;i.addEventListener(egret.Event.COMPLETE,function(e){this.img=new egret.Bitmap(e.currentTarget.data),this.progress.addChild(this.img),this.img.width=60,this.img.height=60,this.img.anchorOffsetX=.5*this.img.width,this.img.anchorOffsetY=.5*this.img.height,egret.Tween.get(this.img).to({x:560,rotation:360},3e3)},this),i.load("resource/assets/game/qiu.png")},t.prototype.setProgress=function(e,t){var n=Math.floor(e/t*100)+"%";this.textField.text="Loading..."+n,this.progress&&this.frontRect&&(this.progress.removeChild(this.frontRect),this.frontRect=createRect(e/t*560,5,65280),this.progress.addChild(this.frontRect))},t}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var Main=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this);var t=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",t),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},t.prototype.onConfigComplete=function(e){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);var t=new eui.Theme("resource/default.thm.json",this.stage);t.addEventListener(eui.UIEvent.COMPLETE,this.startCreateScene,this)},t.prototype.startCreateScene=function(){SceneManager.createObj(this.stage).loadScene("index",Index)},t}(eui.UILayer);__reflect(Main.prototype,"Main");var hexcase=0,b64pad="",chrsz=8,GameOver=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,n){e.prototype.partAdded.call(this,t,n)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t}(eui.Component);__reflect(GameOver.prototype,"GameOver",["eui.UIComponent","egret.DisplayObject"]);var SceneManager=function(){function e(e){this._stage=e}return e.createObj=function(t){return e.singleObj||(e.singleObj=new e(t)),e.singleObj},e.prototype.loadScene=function(e,t){this._groupName=e,this._nextScene=t,this._loading=LoadingUI.createObj(),this._stage.addChild(this._loading),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup(e)},e.prototype.onResourceLoadComplete=function(e){var t=this;if(e.groupName==this._groupName){RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this);var n=new this._nextScene;this._stage.addChild(n),this.curScene?n.enterAni?n.enterAni(function(){t._stage.removeChild(t.curScene),t._stage.removeChild(t._loading),t.curScene=n}):(n.x=this._stage.stageWidth,egret.Tween.get(n).to({x:0},500).call(function(){t._stage.removeChild(t.curScene),t._stage.removeChild(t._loading),t.curScene=n})):(this._stage.removeChild(this._loading),this.curScene=n)}},e.prototype.onResourceLoadError=function(e){console.warn("Group:"+e.groupName+" has failed to load"),this.onResourceLoadComplete(e)},e.prototype.onResourceProgress=function(e){e.groupName==this._groupName&&this._loading.setProgress(e.itemsLoaded,e.itemsTotal)},e.prototype.onItemLoadError=function(e){console.warn("Url:"+e.resItem.url+" has failed to load")},e}();__reflect(SceneManager.prototype,"SceneManager");var Share=function(e){function t(){var t=e.call(this)||this;return t.daojishi=60,t.skinName=ShareSkin,t}return __extends(t,e),t.prototype.partAdded=function(t,n){e.prototype.partAdded.call(this,t,n)},t.prototype.childrenCreated=function(){var t=this;e.prototype.childrenCreated.call(this),this.arr=["result-1_png","result-2_png","result-3_png"];var n=Math.floor(Math.random()*this.arr.length);this.ziliao.source=this.arr[n],this.ziliao.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){2==n?(egret.Tween.get(t.sumits).to({x:0},300),egret.Tween.get(t.zhongjiang).to({x:-640},50)):1==n?egret.Tween.get(t.bizhi).to({scaleX:1,scaleY:1},1e3):(egret.Tween.get(t.sumits).to({x:0},300),egret.Tween.get(t.zhongjiang).to({x:640},10))},this);var i=/^[\u4e00-\u9fa5A-Za-z]+$/,r=/^1[3-8]\d{9}$/,s=/^\d{5}$/;this.bizhi.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){egret.Tween.get(t.bizhi).to({scaleX:0,scaleY:0},500)},this),this.telText.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){i.test(t.Nametext.text)||" "==t.Nametext.text||alert("输入名字不合法")},this);var o=new egret.Timer(1e3,60);o.addEventListener(egret.TimerEvent.TIMER,function(){t.daojishi--;var e=t.daojishi+"s后重发";t.huoqu.label=e},this),o.addEventListener(egret.TimerEvent.TIMER_COMPLETE,function(){o.reset(),t.huoqu.label="重新发送",t.daojishi=60},this),this.huoqu.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){r.test(t.telText.text)?(o.start(),XMLHttp.Create().sendPostRequest({URL:"http://swin.bluej.cn/index.php/Home/app/verification_code.html ",RequestData:{phone:t.telText.text},Tokenkey:"lkasdj213489ulkjadsf",MD5:!0})):alert("输入手机号码不合法")},this),this.submit.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){egret.Tween.get(t.submit).to({scaleX:1.2,scaleY:1.2},100),r.test(t.telText.text)&&i.test(t.Nametext.text)||alert("输入不合法")},this),this.submit.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){s.test(t.yanzheng.text)?(egret.Tween.get(t.sumisuccess).to({x:0},300),egret.Tween.get(t.sumits).to({x:640},100)):alert("请输入正确的验证码")},this),this.shares.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){egret.Tween.get(t.fenxiang).to({y:0},300)}),this.shaersuee.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){egret.Tween.get(t.fenxiang).to({y:0},300)}),this.fenxiang.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){egret.Tween.get(t.fenxiang).to({y:-1136},500)}),this.again.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){SceneManager.createObj(t.stage).loadScene("index",Index)},this),this.againssee.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){SceneManager.createObj(t.stage).loadScene("index",Index)},this),this.again2.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){SceneManager.createObj(t.stage).loadScene("index",Index)},this),this.rank.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){egret.Tween.get(t.paihangbang).to({x:0},300),egret.Tween.get(t.zhongjiang).to({x:-640},50)},this),this.paihangsuee.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){egret.Tween.get(t.paihangbang).to({x:0},300),egret.Tween.get(t.sumisuccess).to({x:-640},50)},this),this.xuanyao.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){egret.Tween.get(t.fenxiang).to({y:0},300)},this)},t}(eui.Component);__reflect(Share.prototype,"Share",["eui.UIComponent","egret.DisplayObject"]);var StartGame=function(e){function t(){var t=e.call(this)||this;return t.skinName="StartGameSkin",t}return __extends(t,e),t.prototype.partAdded=function(t,n){e.prototype.partAdded.call(this,t,n)},t.prototype.childrenCreated=function(){var n=this;if(e.prototype.childrenCreated.call(this),egret.Tween.get(this.qiua,{loop:!0}).to({alpha:0},500).to({alpha:.6},1200),egret.Tween.get(this.qiub,{loop:!0}).to({alpha:0},500).to({alpha:.8},900),this.playAnimation(this.shuai,!0),window&&window.DeviceMotionEvent){var i,r,s,o,a,h,d=5e3,c=egret.getTimer();i=r=s=o=a=h=0,window.addEventListener("devicemotion",function(e){var g=e.accelerationIncludingGravity,l=egret.getTimer();if(l-c>100){var u=l-c;i=g.x,r=g.y,s=g.z;var p=Math.abs(i+r+s-o-a-h)/u*1e4;p>d&&(n.jindu.width+=4.68,t.initKm+=20,n.jindu.width>=234&&(n.jindu.width=234,t.initKm=1e3)),c=l,o=i,a=r,h=s}},!1)}else alert("不支持传感器事件");setTimeout(function(){n.time.text=5;var e=new egret.Timer(1e3,5);e.addEventListener(egret.TimerEvent.TIMER,function(){n.time.text--,0==n.time.text&&(n.time.text="",n.qiua.width=0,n.qiub.width=0,n.qa.play(),Index.soundChannel.stop(),n.sound=RES.getRes("wangqiu_mp3"),n.soundChannel=n.sound.play(0,1),n.qa.addEventListener(egret.Event.COMPLETE,function(){SceneManager.createObj(this.stage).loadScene("play",Play)},n))},n),e.start()},1500)},t.prototype.playAnimation=function(e,t){if(t)for(var n in e.items)e.items[n].props={loop:!0};e.play()},t.initKm=0,t}(eui.Component);__reflect(StartGame.prototype,"StartGame",["eui.UIComponent","egret.DisplayObject"]);var ThemeAdapter=function(){function e(){}return e.prototype.getTheme=function(e,t,n,i){function r(e){t.call(i,e)}function s(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,s,null),n.call(i))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,s,null),RES.getResByUrl(e,r,this,RES.ResourceItem.TYPE_TEXT)},e}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var XMLHttp=function(){function e(){}return e.Create=function(){return this.obj||(this.obj=new this),this.obj},e.prototype.sendGetRequest=function(e){e=e||{};var t=new egret.HttpRequest;t.responseType=egret.HttpResponseType.TEXT,t.open(e.URL+e.Params,egret.HttpMethod.GET),t.send(),t.addEventListener(egret.Event.COMPLETE,e.Callback,this),t.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onGetIOError,this),t.addEventListener(egret.ProgressEvent.PROGRESS,this.onGetProgress,this)},e.prototype.onGetComplete=function(e){var t=e.currentTarget;console.log("get data : ",t.response)},e.prototype.onGetIOError=function(e){console.log("get error : "+e)},e.prototype.onGetProgress=function(e){console.log("get progress : "+Math.floor(100*e.bytesLoaded/e.bytesTotal)+"%")},e.prototype.sendPostRequest=function(e){e=e||{};var t=JSON.stringify(e.RequestData),n="";if(1==e.MD5){var i=hex_md5(t+e.Tokenkey);n="data="+t+"&key="+i}else n="data="+t;var r=new egret.HttpRequest;r.responseType=egret.HttpResponseType.TEXT,r.open(e.URL,egret.HttpMethod.POST),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.send(n),r.addEventListener(egret.Event.COMPLETE,this.onPostComplete,this),r.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onPostIOError,this),r.addEventListener(egret.ProgressEvent.PROGRESS,this.onPostProgress,this)},e.prototype.onPostComplete=function(e){e.currentTarget},e.prototype.onPostIOError=function(e){console.log("post error : "+e)},e.prototype.onPostProgress=function(e){console.log("post progress : "+Math.floor(100*e.bytesLoaded/e.bytesTotal)+"%")},e.obj=null,e}();__reflect(XMLHttp.prototype,"XMLHttp");